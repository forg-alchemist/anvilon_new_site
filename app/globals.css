@import "tailwindcss";

:root {
  /* Typography */
  --foreground: #e9ecf2;

  /* New typography vars:
     - headings/buttons: Yeseva One
     - body text: Forum
  */
  --font-heading: "Yeseva One", serif;
  --font-body: "Forum", serif;

  /* Existing (used by buttons/cards) */
  --button-foreground: #a79971;

  /* Astral UI palette */
  --ui-ink: #0b0f1a;
  --ui-ink-2: #0f1626;
  --ui-cyan: #36d2ff;
  --ui-blue: #2a6bff;
  --ui-violet: #7b4dff;
  --ui-ember: #ff4a2f;
  --ui-ember-2: #ff9b3a;
  --ui-gold: #d7c79a;
}

/* Full-height canvas */
html,
body {
  height: 100%;
}

body {
  margin: 0;
  font-family: var(--font-body);
  color: var(--foreground);
  background-color: var(--ui-ink);

  /* Blue → cyan center, with ember flame at the bottom (like the ref) */
  background-image:
    radial-gradient(1200px 720px at 50% 18%, rgba(54, 210, 255, 0.22), transparent 65%),
    radial-gradient(980px 680px at 8% 36%, rgba(42, 107, 255, 0.28), transparent 66%),
    radial-gradient(980px 680px at 92% 36%, rgba(123, 77, 255, 0.22), transparent 66%),
    radial-gradient(980px 520px at 50% 112%, rgba(255, 74, 47, 0.34), transparent 62%),
    radial-gradient(760px 420px at 50% 122%, rgba(255, 155, 58, 0.18), transparent 68%),
    linear-gradient(180deg, rgba(5, 8, 16, 0.92) 0%, rgba(8, 10, 18, 0.95) 55%, rgba(10, 6, 12, 0.98) 100%);

  background-attachment: fixed;
  background-repeat: no-repeat;

  position: relative;
  overflow-x: hidden;
}

/* Headings default: Yeseva One */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-heading);
}

/* Ember “sparks / bokeh” near the bottom */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;

  background-image:
    radial-gradient(12px 12px at 18% 92%, rgba(255, 155, 58, 0.22), transparent 60%),
    radial-gradient(18px 18px at 26% 96%, rgba(255, 74, 47, 0.20), transparent 62%),
    radial-gradient(10px 10px at 38% 90%, rgba(255, 155, 58, 0.18), transparent 62%),
    radial-gradient(22px 22px at 52% 97%, rgba(255, 74, 47, 0.18), transparent 65%),
    radial-gradient(14px 14px at 64% 93%, rgba(255, 155, 58, 0.20), transparent 62%),
    radial-gradient(26px 26px at 78% 96%, rgba(255, 74, 47, 0.16), transparent 70%),
    radial-gradient(12px 12px at 86% 90%, rgba(255, 155, 58, 0.16), transparent 65%);

  filter: blur(0.2px);
  opacity: 0.9;
  mix-blend-mode: screen;
}

/* Subtle starfield */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;

  background-image:
    radial-gradient(1px 1px at 8% 18%, rgba(255, 255, 255, 0.30), transparent 60%),
    radial-gradient(1px 1px at 22% 12%, rgba(255, 255, 255, 0.22), transparent 60%),
    radial-gradient(1px 1px at 36% 24%, rgba(255, 255, 255, 0.20), transparent 60%),
    radial-gradient(1px 1px at 48% 10%, rgba(255, 255, 255, 0.18), transparent 60%),
    radial-gradient(1px 1px at 62% 22%, rgba(255, 255, 255, 0.22), transparent 60%),
    radial-gradient(1px 1px at 74% 14%, rgba(255, 255, 255, 0.18), transparent 60%),
    radial-gradient(1px 1px at 88% 26%, rgba(255, 255, 255, 0.20), transparent 60%),
    radial-gradient(1px 1px at 16% 44%, rgba(255, 255, 255, 0.16), transparent 60%),
    radial-gradient(1px 1px at 44% 52%, rgba(255, 255, 255, 0.14), transparent 60%),
    radial-gradient(1px 1px at 72% 46%, rgba(255, 255, 255, 0.14), transparent 60%);

  opacity: 0.55;
}

/* Make sure page sections don't “paint” a flat background over the gradient */
main,
section {
  background: transparent;
}

/* Smoother focus without neon browser default */
:focus-visible {
  outline: 2px solid rgba(54, 210, 255, 0.35);
  outline-offset: 2px;
}

/* ---- Back button: golden flame hover ---- */

.back-flame {
  position: relative;
  isolation: isolate;
}

/* По умолчанию: выключено */
.back-flame::before,
.back-flame::after {
  content: "";
  position: absolute;
  pointer-events: none;
  opacity: 0;
  transition: opacity 220ms ease, transform 220ms ease;
  z-index: 1;
}

/* Пламя */
.back-flame::before {
  inset: -14px -18px;
  transform: scale(0.96);

  background:
    radial-gradient(60% 70% at 30% 55%,
      rgba(255, 214, 120, 0.55) 0%,
      rgba(255, 168, 0, 0.28) 35%,
      rgba(255, 168, 0, 0.00) 70%),
    radial-gradient(60% 70% at 55% 40%,
      rgba(255, 245, 200, 0.35) 0%,
      rgba(255, 198, 70, 0.18) 40%,
      rgba(255, 198, 70, 0.00) 75%);

  filter: blur(10px) saturate(1.25);
  mix-blend-mode: screen;
}

/* Волна */
.back-flame::after {
  left: -12px;
  right: -12px;
  top: 50%;
  height: 36px;
  transform: translateY(-50%);

  background: linear-gradient(
    90deg,
    rgba(255, 168, 0, 0.00) 0%,
    rgba(255, 198, 70, 0.25) 20%,
    rgba(255, 230, 170, 0.32) 50%,
    rgba(255, 198, 70, 0.25) 80%,
    rgba(255, 168, 0, 0.00) 100%
  );

  filter: blur(8px);
  mix-blend-mode: screen;
}

/* Включаем и запускаем анимацию ТОЛЬКО при наведении/фокусе */
.back-flame:hover::before,
.back-flame:focus-visible::before {
  opacity: 1;
  transform: scale(1);
  animation: backFlameFlicker 1.2s ease-in-out infinite;
}

.back-flame:hover::after,
.back-flame:focus-visible::after {
  opacity: 1;
  animation: backFlameWave 1.6s linear infinite;
}

/* Контент поверх */
.back-flame > * {
  position: relative;
  z-index: 2;
}

/* В keyframes больше НЕ трогаем opacity */
@keyframes backFlameFlicker {
  0%   { transform: scale(0.995) translateY(0px); }
  35%  { transform: scale(1.02) translateY(-1px); }
  70%  { transform: scale(1.0) translateY(1px); }
  100% { transform: scale(0.995) translateY(0px); }
}

@keyframes backFlameWave {
  0%   { transform: translateY(-50%) translateX(-8px); }
  50%  { transform: translateY(-50%) translateX(8px); }
  100% { transform: translateY(-50%) translateX(-8px); }
}

