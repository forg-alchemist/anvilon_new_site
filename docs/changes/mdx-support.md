# MDX Support Implementation

## Обзор

Добавлена поддержка MDX для возможности написания контента страниц в Markdown с поддержкой JSX компонентов. Это позволяет редакторам контента работать с привычным Markdown синтаксисом, сохраняя при этом полный контроль над стилизацией.

## Мотивация

1. **Упрощение работы с контентом** — Markdown проще в написании и редактировании, чем JSX
2. **Разделение контента и кода** — Контент хранится отдельно от логики компонентов
3. **Гибкость стилизации** — MDX компоненты позволяют применять дизайн-систему к Markdown элементам

## Реализация

### Зависимости

```json
{
  "@mdx-js/loader": "^3.1.1",
  "@mdx-js/react": "^3.1.1",
  "@next/mdx": "^16.1.4",
  "@types/mdx": "^2.0.13"
}
```

### Конфигурация Next.js

Файл `next.config.ts` обновлён для поддержки MDX:
- Добавлен плагин `@next/mdx`
- Расширены `pageExtensions` для включения `.mdx` файлов

### MDX Components

Файл `mdx-components.tsx` определяет кастомные React компоненты для всех Markdown элементов:
- Заголовки (h1, h2, h3) с декоративными линиями
- Параграфы и текстовые стили
- Списки с кастомными маркерами
- Блоки цитат
- Горизонтальные разделители

### Стилизация

Стили вынесены в CSS Module (`shared/styles/mdx.module.css`):
- Самодостаточные стили без внешних зависимостей
- Использует CSS переменные из globals.css (`--font-heading`, `--font-body`)
- Не влияет на глобальные стили других страниц

## Структура контента

```
shared/content/about-world/
├── intro.mdx        # Введение в мир
├── magic.mdx        # Магия
├── technology.mdx   # Технологии
├── gods.mdx         # Божества
├── ancients.mdx     # Древние (Мары)
├── continents.mdx   # Материки
└── index.ts         # Экспорт секций

app/library/about-world/
├── content.mdx      # Полный контент (для v1)
├── page.tsx         # Селектор версий
├── AboutWorldClient.tsx  # Компонент с табами (v2)
├── v1/page.tsx      # Простая страница с MDX
└── v2/page.tsx      # Страница с табами
```

## Две версии страницы "О мире"

Для демонстрации возможностей созданы две версии:

### Версия 1 (v1)
- Простой подход: один MDX файл с полным контентом
- Контент отображается в стилизованном блоке
- Подходит для небольших страниц

### Версия 2 (v2)
- Продвинутый подход: контент разделён на секции
- Навигация по разделам через табы
- Подходит для больших страниц с множеством разделов

## Использование

### Создание MDX страницы

```tsx
import MyContent from "./content.mdx";

export default function Page() {
  return <MyContent />;
}
```

### Импорт отдельных секций

```tsx
import { aboutWorldSections } from "@/shared/content/about-world";

// Каждая секция содержит:
// - key: уникальный идентификатор
// - label: название для UI
// - Content: React компонент с MDX контентом
```
